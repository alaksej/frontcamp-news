!function(e){function t(t){for(var i,r,s=t[0],o=t[1],a=0,c=[];a<s.length;a++)r=s[a],n[r]&&c.push(n[r][0]),n[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(u&&u(t);c.length;)c.shift()()}var i={},n={0:0};function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise(function(t,r){i=n[e]=[t,r]});t.push(i[2]=s);var o,a=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=function(e){return r.p+"js/"+({1:"newslist"}[e]||e)+".bundle.es6.js"}(e),o=function(t){u.onerror=u.onload=null,clearTimeout(c);var i=n[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,i[1](o)}n[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,a.appendChild(u)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var u=o;r(r.s=5)}([function(e,t,i){"use strict";function n(e){return"function"==typeof e}function r(e){return null!=e&&"function"==typeof e[Symbol.iterator]}i.d(t,"b",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"a",function(){return s});class s{static removeAllChildren(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return o});var n=i(2);const r="d63e3d1d1622450aaf814fae749afce1",s=i.n(n).a;class o{constructor(){var e,t,i;e=this,t="_sourcesConfig",i=new Map([["1",{displayName:"Top headlines from BBC News",urlConfig:{endpoint:"top-headlines",params:{sources:"bbc-news"}},isPaginationHidden:!0}],["2",{displayName:"Articles about Bitcoin",urlConfig:{endpoint:"everything",params:{q:"bitcoin"}}}],["3",{displayName:"Top sports headlines",urlConfig:{endpoint:"top-headlines",params:{category:"sport"}}}]]),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}getSearchPanelOptions(){return Array.from(this._sourcesConfig,e=>({value:e[0],displayName:e[1].displayName,isPaginationHidden:e[1].isPaginationHidden}))}getUrlConfig(e){return this._sourcesConfig.get(e).urlConfig}}},function(e,t,i){e.exports=i.p+"d71b28089d8fad554dc1f7a92446bf45.png"},,function(e,t,i){},function(e,t,i){"use strict";i.r(t);var n=i(1);const r="https://newsapi.org";class s{constructor(e){var t,i,n;if(n=void 0,(i="_apiKey")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,!e)throw new Error("No API key specified");this._apiKey=e}async get(e,t){const i=this._buildUrl(`/v2/${e}`,t);return await this._getDataFromWeb(i,this._apiKey)}_buildUrl(e,t){const i=Object.keys(t).map(e=>`${e}=${t[e]}`).join("&"),n=`${r}${e}`;return i?`${n}?${i}`:n}async _getDataFromWeb(e,t){const i=t?{"x-api-key":t}:{},n=await fetch(e,{headers:i}),r=await n.json();if("error"===r.status)throw new o(r);return r}}class o extends Error{constructor(e){super(),this.name=`NewsAPIError: ${e.code}`,this.message=e.message}}var a=i(0);class u{constructor(){var e,t,i;i=[],(t="_subscribers")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}emit(e){this._subscribers.forEach(t=>t(e))}subscribe(e){if(!Object(a.b)(e))throw new Error("Only functions are allowed as subscribers.");const t=this._subscribers.length;return this._subscribers=[...this._subscribers,e],new c(()=>this._subscribers=this._subscribers.filter((e,i)=>i!==t))}}class c{constructor(e){this._unsubscribeFn=e}unsubscribe(){Object(a.b)(this._unsubscribeFn)&&this._unsubscribeFn()}}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sources,t=void 0===e?[]:e;l(this,"_pageEl",document.getElementById("page")),l(this,"_pageElContainer",document.getElementById("pageContainer")),l(this,"_sourceEl",document.getElementById("source")),l(this,"_submitButton",document.getElementById("submit")),l(this,"_submitClick",new u),l(this,"_sourcesConfig",void 0),this._sourcesConfig=t,this._initSourceOptions(this._sourceEl,t),this._submitButton.addEventListener("click",this._onSubmitClick.bind(this)),this.enableSubmit()}get page(){const e=!this._isPaginationHidden&&this._pageEl&&+this._pageEl.value||1;if(!Number.isInteger(e)||e<1)throw new TypeError("The page must be a positive integer number");return e}get source(){return this._sourceEl.value}get submitClick(){return this._submitClick}dispose(){this._pageEl.removeEventListener("click",this._onSubmitClick.bind(this))}disableSubmit(){this._submitButton.setAttribute("disabled","")}enableSubmit(){this._submitButton.removeAttribute("disabled")}_initSourceOptions(e,t){if(!e)throw new Error("Unable to find the source element");a.a.removeAllChildren(e),e.innerHTML=t.map(e=>this._createOption(e)).join(""),this._setPageVisible(),e.addEventListener("change",()=>this._setPageVisible())}get _isPaginationHidden(){return this._sourcesConfig.find(e=>e.value===this.source).isPaginationHidden}_setPageVisible(){this._isPaginationHidden?this._hidePage():this._showPage()}_hidePage(){this._pageElContainer.setAttribute("hidden","")}_showPage(){this._pageElContainer.removeAttribute("hidden")}_createOption(e){let t=e.displayName;return`<option value="${e.value}">${t}</option>`}_onSubmitClick(){this.submitClick.emit({source:this.source,page:this.page})}}function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d{constructor(){h(this,"_sourcesConfig",new n.a),h(this,"_newsApi",new s(n.b)),h(this,"_searchPanel",new b({sources:this._sourcesConfig.getSearchPanelOptions()})),h(this,"_newsList",void 0),this._searchPanel.submitClick.subscribe(this.onSubmitClick.bind(this))}onSubmitClick(e){let t=e.source,i=e.page;const n=this._sourcesConfig.getUrlConfig(t),r=n.endpoint,s=n.params;this.loadNews(r,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){h(e,t,i[t])})}return e}({},s,{page:i}))}async loadNews(e,t){if(!this._newsList){const e=(await i.e(1).then(i.bind(null,7))).default;this._newsList=new e(document.getElementById("newsListContainer"))}this._searchPanel.disableSubmit(),this._newsList.text="Loading...";try{const i=await this._newsApi.get(e,t);i&&i.articles&&i.articles.length?this._newsList.articles=i.articles:this._newsList.text="Nothing's found. Try changing the channel or page number."}catch(e){console.log(e),this._newsList.text="Oops, something went wrong. Maybe the page number is too big?"}finally{this._searchPanel.enableSubmit()}}}i(4);document.addEventListener("DOMContentLoaded",()=>new d)}]);