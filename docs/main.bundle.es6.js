!function(e){function t(t){for(var n,i,s=t[0],o=t[1],a=0,u=[];a<s.length;a++)i=s[a],r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},i={0:0},r={0:0};function s(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[];i[e]?t.push(i[e]):0!==i[e]&&{1:1}[e]&&t.push(i[e]=new Promise(function(t,n){for(var r=({1:"newslist"}[e]||e)+".css",o=s.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var c=(h=a[u]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(c===r||c===o))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var h;if((c=(h=l[u]).getAttribute("data-href"))===r||c===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.request=r,delete i[e],d.parentNode.removeChild(d),n(s)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){i[e]=0}));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=o);var a,u=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=function(e){return s.p+""+({1:"newslist"}[e]||e)+".bundle.es6.js"}(e),a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+i+": "+s+")");o.type=i,o.request=s,n[1](o)}r[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,u.appendChild(c)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=a;s(s.s=6)}([function(e,t,n){"use strict";function i(e){return"function"==typeof e}function r(e){return null!=e&&"function"==typeof e[Symbol.iterator]}n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return s});class s{static removeAllChildren(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o});var i=n(2);const r="d63e3d1d1622450aaf814fae749afce1",s=n.n(i).a;class o{constructor(){var e,t,n;e=this,t="_sourcesConfig",n=new Map([["1",{displayName:"Top headlines from BBC News",urlConfig:{endpoint:"top-headlines",params:{sources:"bbc-news"}},isPaginationHidden:!0}],["2",{displayName:"Articles about Bitcoin",urlConfig:{endpoint:"everything",params:{q:"bitcoin"}}}],["3",{displayName:"Top sports headlines",urlConfig:{endpoint:"top-headlines",params:{category:"sport"}}}]]),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}getSearchPanelOptions(){return Array.from(this._sourcesConfig,e=>({value:e[0],displayName:e[1].displayName,isPaginationHidden:e[1].isPaginationHidden}))}getUrlConfig(e){return this._sourcesConfig.get(e).urlConfig}}},function(e,t,n){e.exports=n.p+"d71b28089d8fad554dc1f7a92446bf45.png"},function(e){e.exports={greeting:"Hi there",name:"Alex",addresses:[{city:"Minsk",street:"Tirazhnaya"},{city:"Gomel",street:"Tranzitnaya"}]}},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1);const r="https://newsapi.org";class s{constructor(e){var t,n,i;if(i=void 0,(n="_apiKey")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,!e)throw new Error("No API key specified");this._apiKey=e}async get(e,t){const n=this._buildUrl(`/v2/${e}`,t);return await this._getDataFromWeb(n,this._apiKey)}_buildUrl(e,t){const n=Object.keys(t).map(e=>`${e}=${t[e]}`).join("&"),i=`${r}${e}`;return n?`${i}?${n}`:i}async _getDataFromWeb(e,t){const n=t?{"x-api-key":t}:{},i=await fetch(e,{headers:n}),r=await i.json();if("error"===r.status)throw new o(r);return r}}class o extends Error{constructor(e){super(),this.name=`NewsAPIError: ${e.code}`,this.message=e.message}}var a=n(0);class u{constructor(){var e,t,n;n=[],(t="_subscribers")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}emit(e){this._subscribers.forEach(t=>t(e))}subscribe(e){if(!Object(a.b)(e))throw new Error("Only functions are allowed as subscribers.");const t=this._subscribers.length;return this._subscribers=[...this._subscribers,e],new c(()=>this._subscribers=this._subscribers.filter((e,n)=>n!==t))}}class c{constructor(e){this._unsubscribeFn=e}unsubscribe(){Object(a.b)(this._unsubscribeFn)&&this._unsubscribeFn()}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sources,t=void 0===e?[]:e;l(this,"_pageEl",document.getElementById("page")),l(this,"_pageElContainer",document.getElementById("pageContainer")),l(this,"_sourceEl",document.getElementById("source")),l(this,"_submitButton",document.getElementById("submit")),l(this,"_submitClick",new u),l(this,"_sourcesConfig",void 0),this._sourcesConfig=t,this._initSourceOptions(this._sourceEl,t),this._submitButton.addEventListener("click",this._onSubmitClick.bind(this)),this.enableSubmit()}get page(){const e=!this._isPaginationHidden&&this._pageEl&&+this._pageEl.value||1;if(!Number.isInteger(e)||e<1)throw new TypeError("The page must be a positive integer number");return e}get source(){return this._sourceEl.value}get submitClick(){return this._submitClick}dispose(){this._pageEl.removeEventListener("click",this._onSubmitClick.bind(this))}disableSubmit(){this._submitButton.setAttribute("disabled","")}enableSubmit(){this._submitButton.removeAttribute("disabled")}_initSourceOptions(e,t){if(!e)throw new Error("Unable to find the source element");a.a.removeAllChildren(e),e.innerHTML=t.map(e=>this._createOption(e)).join(""),this._setPageVisible(),e.addEventListener("change",()=>this._setPageVisible())}get _isPaginationHidden(){return this._sourcesConfig.find(e=>e.value===this.source).isPaginationHidden}_setPageVisible(){this._isPaginationHidden?this._hidePage():this._showPage()}_hidePage(){this._pageElContainer.setAttribute("hidden","")}_showPage(){this._pageElContainer.removeAttribute("hidden")}_createOption(e){let t=e.displayName;return`<option value="${e.value}">${t}</option>`}_onSubmitClick(){this.submitClick.emit({source:this.source,page:this.page})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b{constructor(){d(this,"_sourcesConfig",new i.a),d(this,"_newsApi",new s(i.b)),d(this,"_searchPanel",new h({sources:this._sourcesConfig.getSearchPanelOptions()})),d(this,"_newsList",void 0),this._searchPanel.submitClick.subscribe(this.onSubmitClick.bind(this))}onSubmitClick(e){let t=e.source,n=e.page;const i=this._sourcesConfig.getUrlConfig(t),r=i.endpoint,s=i.params;this.loadNews(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){d(e,t,n[t])})}return e}({},s,{page:n}))}async loadNews(e,t){if(!this._newsList){const e=(await n.e(1).then(n.bind(null,9))).default;this._newsList=new e(document.getElementById("newsListContainer"))}this._searchPanel.disableSubmit(),this._newsList.text="Loading...";try{const n=await this._newsApi.get(e,t);n&&n.articles&&n.articles.length?this._newsList.articles=n.articles:this._newsList.text="Nothing's found. Try changing the channel or page number."}catch(e){console.log(e),this._newsList.text="Oops, something went wrong. Maybe the page number is too big?"}finally{this._searchPanel.enableSubmit()}}}n(5);var f=n(3);console.log({json:f}),document.addEventListener("DOMContentLoaded",()=>new b)}]);