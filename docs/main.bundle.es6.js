(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,i){"use strict";function s(e){return"function"==typeof e}function n(e){return null!=e&&"function"==typeof e[Symbol.iterator]}i.d(t,"b",function(){return s}),i.d(t,"c",function(){return n}),i.d(t,"a",function(){return r});class r{static removeAllChildren(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"a",function(){return o});var s=i(2);const n="d63e3d1d1622450aaf814fae749afce1",r=i.n(s).a;class o{constructor(){var e,t,i;e=this,t="_sourcesConfig",i=new Map([["1",{displayName:"Top headlines from BBC News",urlConfig:{endpoint:"top-headlines",params:{sources:"bbc-news"}},isPaginationHidden:!0}],["2",{displayName:"Articles about Bitcoin",urlConfig:{endpoint:"everything",params:{q:"bitcoin"}}}],["3",{displayName:"Top sports headlines",urlConfig:{endpoint:"top-headlines",params:{category:"sport"}}}]]),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}getSearchPanelOptions(){return Array.from(this._sourcesConfig,e=>({value:e[0],displayName:e[1].displayName,isPaginationHidden:e[1].isPaginationHidden}))}getUrlConfig(e){return this._sourcesConfig.get(e).urlConfig}}},function(e,t,i){e.exports=i.p+"d71b28089d8fad554dc1f7a92446bf45.png"},function(e){e.exports={greeting:"Hi there",name:"Alex",passport:1234567890,addresses:[{city:"Minsk",street:"Tirazhnaya",building:150},{city:"Gomel",building:3,street:"Tranzitnaya"}]}},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s=i(1);const n="https://newsapi.org";class r{constructor(e){var t,i,s;if(s=void 0,(i="_apiKey")in(t=this)?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,!e)throw new Error("No API key specified");this._apiKey=e}async get(e,t){const i=this._buildUrl(`/v2/${e}`,t);return await this._getDataFromWeb(i,this._apiKey)}_buildUrl(e,t){const i=Object.keys(t).map(e=>`${e}=${t[e]}`).join("&"),s=`${n}${e}`;return i?`${s}?${i}`:s}async _getDataFromWeb(e,t){const i=t?{"x-api-key":t}:{},s=await fetch(e,{headers:i}),n=await s.json();if("error"===n.status)throw new o(n);return n}}class o extends Error{constructor(e){super(),this.name=`NewsAPIError: ${e.code}`,this.message=e.message}}var a=i(0);class c{constructor(){var e,t,i;i=[],(t="_subscribers")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}emit(e){this._subscribers.forEach(t=>t(e))}subscribe(e){if(!Object(a.b)(e))throw new Error("Only functions are allowed as subscribers.");const t=this._subscribers.length;return this._subscribers=[...this._subscribers,e],new u(()=>this._subscribers=this._subscribers.filter((e,i)=>i!==t))}}class u{constructor(e){this._unsubscribeFn=e}unsubscribe(){Object(a.b)(this._unsubscribeFn)&&this._unsubscribeFn()}}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h{constructor(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sources,t=void 0===e?[]:e;l(this,"_pageEl",document.getElementById("page")),l(this,"_pageElContainer",document.getElementById("pageContainer")),l(this,"_sourceEl",document.getElementById("source")),l(this,"_submitButton",document.getElementById("submit")),l(this,"_submitClick",new c),l(this,"_sourcesConfig",void 0),this._sourcesConfig=t,this._initSourceOptions(this._sourceEl,t),this._submitButton.addEventListener("click",this._onSubmitClick.bind(this)),this.enableSubmit()}get page(){const e=!this._isPaginationHidden&&this._pageEl&&+this._pageEl.value||1;if(!Number.isInteger(e)||e<1)throw new TypeError("The page must be a positive integer number");return e}get source(){return this._sourceEl.value}get submitClick(){return this._submitClick}dispose(){this._pageEl.removeEventListener("click",this._onSubmitClick.bind(this))}disableSubmit(){this._submitButton.setAttribute("disabled","")}enableSubmit(){this._submitButton.removeAttribute("disabled")}_initSourceOptions(e,t){if(!e)throw new Error("Unable to find the source element");a.a.removeAllChildren(e),e.innerHTML=t.map(e=>this._createOption(e)).join(""),this._setPageVisible(),e.addEventListener("change",()=>this._setPageVisible())}get _isPaginationHidden(){return this._sourcesConfig.find(e=>e.value===this.source).isPaginationHidden}_setPageVisible(){this._isPaginationHidden?this._hidePage():this._showPage()}_hidePage(){this._pageElContainer.setAttribute("hidden","")}_showPage(){this._pageElContainer.removeAttribute("hidden")}_createOption(e){let t=e.displayName;return`<option value="${e.value}">${t}</option>`}_onSubmitClick(){this.submitClick.emit({source:this.source,page:this.page})}}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d{constructor(){b(this,"_sourcesConfig",new s.a),b(this,"_newsApi",new r(s.b)),b(this,"_searchPanel",new h({sources:this._sourcesConfig.getSearchPanelOptions()})),b(this,"_newsList",void 0),this._searchPanel.submitClick.subscribe(this.onSubmitClick.bind(this))}onSubmitClick(e){let t=e.source,i=e.page;const s=this._sourcesConfig.getUrlConfig(t),n=s.endpoint,r=s.params;this.loadNews(n,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){b(e,t,i[t])})}return e}({},r,{page:i}))}async loadNews(e,t){if(!this._newsList){const e=(await i.e(1).then(i.bind(null,7))).default;this._newsList=new e(document.getElementById("newsListContainer"))}this._searchPanel.disableSubmit(),this._newsList.text="Loading...";try{const i=await this._newsApi.get(e,t);i&&i.articles&&i.articles.length?this._newsList.articles=i.articles:this._newsList.text="Nothing's found. Try changing the channel or page number."}catch(e){console.log(e),this._newsList.text="Oops, something went wrong. Maybe the page number is too big?"}finally{this._searchPanel.enableSubmit()}}}i(4);var g=i(3);console.log({json:g}),document.addEventListener("DOMContentLoaded",()=>new d)}],[[5,2]]]);